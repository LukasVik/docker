jobs:
  include:
    - &job
      env: TASK=debian
      script: ./travis/run.sh -l "$TASK"
      deploy:
        - provider: script
          skip_cleanup: true
          script: ./travis/run.sh "$TASK"
          on:
            repo: ghdl/docker
            branch: ext
    - <<: *job
      env: TASK=ubuntu
    - &ext
      <<: *job
      env: TASK=vunit
      script: ./travis/run.sh -e "$TASK"
    - <<: *ext
      stage: ext
      env: TASK=gui
